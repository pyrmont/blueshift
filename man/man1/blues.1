.\"
.\" Generated by predoc at 2025-12-15T05:53:44Z
.\"
.Dd December 15, 2025
.Dt BLUES 1
.Os Blueshift DEVEL
.
.Sh NAME
.Nm blues
.Nd archive Bluesky posts to GitHub
.
.Sh SYNOPSIS
.Nm
.Oo
.Fl c
.Ar file No \&|
.Fl "-config"
.Ar file
.Oc
.Oo
.Fl i
.Ar string No \&|
.Fl "-ignore"
.Ar string
.Oc
.Oo
.Fl l
.Ar limit No \&|
.Fl "-limit"
.Ar limit
.Oc
.Oo
.Fl q No \&|
.Fl "-quiet"
.Oc
.
.Sh DESCRIPTION
.Nm
is a command-line utility for archiving Bluesky posts to a GitHub
repository as Markdown files.
It fetches posts from Bluesky,
converts them to Markdown format with YAML frontmatter,
and uploads them to a specified GitHub repository.
.Pp
The tool filters out reposts,
replies,
quote posts and posts that begin with
.Ql "@" .
Posts can also be filtered using the
.Fl "-ignore"
option.
.
.Ss Options
.Bl -tag -width Ds
.It Xo
.Fl c
.Ar file No \&|
.Fl "-config"
.Ar file
.Xc
A path to the configuration file.
This defaults to
.Ql "config\&.jdn"
in the current working directory.
For more information about the configuration file,
see CONFIGURATION below.
.It Xo
.Fl i
.Ar string No \&|
.Fl "-ignore"
.Ar string
.Xc
Filter out posts that contain the specified string.
This option can be specified multiple times to filter multiple
strings.
.It Xo
.Fl l
.Ar limit No \&|
.Fl "-limit"
.Ar limit
.Xc
Limit the number of posts to fetch from Bluesky.
.It Xo
.Fl q No \&|
.Fl "-quiet"
.Xc
Silence output.
By default,
.Nm
displays progress information about authentication,
fetching,
filtering and uploading.
.El
.
.Sh CONFIGURATION
.Nm
requires a configuration file in JDN (Janet Data Notation)
format.
An example configuration file looks like this:
.Bd -literal -offset indent
{:bluesky {:handle \(dqpyrmont\&.inqk\&.net\(dq
           :password \(dqtrustno1\(dq}
 :github {:owner \(dqpyrmont\(dq
          :token \(dqghp_iwant2believe\(dq
          :repo \(dqupdates\&.inqk\&.net\(dq
          :posts-dir \(dqsrc/_posts/2025\(dq}}
.Ed
.Pp
To obtain a Bluesky app password:
.Pp
.Bl -enum -offset 3n -compact
.It
log in to Bluesky
.It
go to Settings > Privacy and Security > App Passwords
.It
create a new app password
.It
copy the generated password to your configuration file
.El
.Pp
To obtain a GitHub Personal Access Token:
.Pp
.Bl -enum -offset 3n -compact
.It
log in to GitHub
.It
go to Settings > Developer settings > Personal access tokens
> Fine-grained tokens
.It
click ‘Generate new token’
.It
select ‘Only select repositories’
.It
choose the repository
.It
click ‘Add permissions’
.It
select ‘Contents’ (make sure write permission is selected)
.El
.Pp
The configuration file may also contain an optional
.Sy :last-fetch
key,
which is automatically updated by
.Nm
to track the timestamp of the most recent post that was uploaded.
This prevents duplicate uploads on subsequent runs.
.
.Sh EXIT STATUS
.Nm
exits
.Ql "0"
if exiting without error.
Otherwise the exit status will be
.Ql "1" .
.
.Sh FILES
.Bl -tag -width Ds -compact
.It Xo
.Eo
.Pa ./config.jdn
.Ec
.Xc
Default configuration file location in the current working directory.
.El
.
.Sh EXAMPLES
Archive all new posts using the default configuration file:
.Bd -literal -offset indent
$ blues
.Ed
.Pp
Archive posts using a custom configuration file:
.Bd -literal -offset indent
$ blues --config ~/\&.blues/config\&.jdn
.Ed
.Pp
Archive posts but filter out any containing
.Ql "#nofilter" :
.Bd -literal -offset indent
$ blues --ignore \(dq#nofilter\(dq
.Ed
.Pp
Archive only the 10 most recent posts:
.Bd -literal -offset indent
$ blues --limit 10
.Ed
.Pp
Archive posts silently without progress output:
.Bd -literal -offset indent
$ blues --quiet
.Ed
.
.Sh AUTHORS
.An Michael Camilleri Aq Mt mike@inqk.net
.
.Sh BUGS
Report issues at
.Lk https://github.com/pyrmont/blueshift .
