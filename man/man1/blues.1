.\"
.\" Generated by predoc at 2026-01-10T19:54:15Z
.\"
.Dd January 11, 2026
.Dt BLUES 1
.Os Blueshift DEVEL
.
.Sh NAME
.Nm blues
.Nd archive Bluesky posts to GitHub
.
.Sh SYNOPSIS
.Nm
.Oo
.Fl c
.Ar file No \&|
.Fl "-config"
.Ar file
.Oc
.Oo
.Fl e No \&|
.Fl "-echo"
.Oc
.Oo
.Fl i
.Ar string No \&|
.Fl "-ignore"
.Ar string
.Oc
.Oo
.Fl l
.Ar limit No \&|
.Fl "-limit"
.Ar limit
.Oc
.Oo
.Fl B No \&|
.Fl "-no-bluesky"
.Oc
.Oo
.Fl G No \&|
.Fl "-no-github"
.Oc
.Oo
.Fl q No \&|
.Fl "-quiet"
.Oc
.Oo
.Fl s
.Ar date No \&|
.Fl "-since"
.Ar date
.Oc
.Oo
.Fl u No \&|
.Fl "-update"
.Oc
.
.Sh DESCRIPTION
.Nm
is a command-line utility for archiving Bluesky posts to a GitHub
repository as Markdown files.
It fetches posts from Bluesky,
converts them to Markdown format with YAML frontmatter,
and uploads them to a specified GitHub repository.
.Pp
The tool filters out reposts,
replies,
quote posts and posts that begin with
.Ql "@" .
Posts can also be filtered using the
.Fl "-ignore"
option.
.
.Ss Options
.Bl -tag -width Ds
.It Xo
.Fl c
.Ar file No \&|
.Fl "-config"
.Ar file
.Xc
A path to the configuration file.
This defaults to
.Ql "config\&.toml"
in the current working directory.
For more information about the configuration file,
see
.Sx "CONFIGURATION"
below.
.It Xo
.Fl e No \&|
.Fl "-echo"
.Xc
Echo post data to stdout.
This option is useful for previewing posts before they are uploaded
to GitHub.
.It Xo
.Fl i
.Ar string No \&|
.Fl "-ignore"
.Ar string
.Xc
Filter out posts that contain the specified string.
This option can be specified multiple times to filter multiple
strings.
.It Xo
.Fl l
.Ar limit No \&|
.Fl "-limit"
.Ar limit
.Xc
Limit the number of posts to fetch from Bluesky.
.It Xo
.Fl B No \&|
.Fl "-no-bluesky"
.Xc
Do not pull posts from Bluesky.
This option is useful for testing or when you only want to update
the configuration file.
.It Xo
.Fl G No \&|
.Fl "-no-github"
.Xc
Do not push posts to GitHub.
This option is useful for testing or previewing posts without
uploading them.
.It Xo
.Fl q No \&|
.Fl "-quiet"
.Xc
Silence output.
By default,
.Nm
displays progress information about authentication,
fetching,
filtering and uploading.
.It Xo
.Fl s
.Ar date No \&|
.Fl "-since"
.Ar date
.Xc
Ignore all posts before the specified date.
The date can be in ISO 8601 format (\c
.Ql "YYYY-MM-DD"
or
.Ql "YYYY-MM-DDTHH:MM:SS" )
or RFC 2822ish format (\c
.Ql "YYYY-MM-DD HH:MM:SS" ) .
If no time is specified,
.Ql "00:00"
in the local timezone is assumed.
If no timezone offset is specified,
the local timezone is assumed.
.It Xo
.Fl u No \&|
.Fl "-update"
.Xc
Force the
.Sy last-fetch
key in the configuration file to be updated.
By default,
.Nm
only updates this timestamp when posts are successfully fetched
and uploaded.
This option is useful when you want to update the timestamp
without uploading posts.
.El
.
.Sh CONFIGURATION
.Nm
requires a configuration file in TOML format.
An example configuration file looks like this:
.Bd -literal -offset indent
ignore = \(lB\(dq#private\(dq, \(dq#draft\(dq\(rB
repost? = false
quote-posts? = true

\(lBbluesky\(rB
handle = \(dqpyrmont\&.inqk\&.net\(dq
password = \(dqtrustno1\(dq

\(lBgithub\(rB
owner = \(dqpyrmont\(dq
token = \(dqghp_iwant2believe\(dq
repo = \(dqupdates\&.inqk\&.net\(dq
posts-dir = \(dqsrc/_posts/2025\(dq
.Ed
.
.Ss Required Keys
.Bl -tag -width Ds
.It Xo
.Sy bluesky
.Xc
A TOML section containing Bluesky authentication credentials.
See
.Sx "CREDENTIALS"
below for more information.
.Pp
.Bl -bullet -offset 3n -compact
.It\c
.Sy handle :
Your Bluesky handle (e.g.,
.Ql "user\&.bsky\&.social" ) .
.It\c
.Sy password :
Your Bluesky app password (not your account password).
.El
.It Xo
.Sy github
.Xc
A TOML section containing GitHub repository and authentication
details.
See
.Sx "CREDENTIALS"
below for more information.
.Pp
.Bl -bullet -offset 3n -compact
.It\c
.Sy owner :
The GitHub username or organization that owns the repository.
.It\c
.Sy token :
A GitHub Personal Access Token with write access to the repository.
.It\c
.Sy repo :
The name of the GitHub repository.
.It\c
.Sy posts-dir :
The directory path within the repository where posts should
be uploaded.
.El
.El
.
.Ss Optional Keys
.Bl -tag -width Ds
.It Xo
.Sy ignore
.Xc
An array of strings.
Posts containing any of these strings will be filtered out.
This can also be specified via the
.Fl "-ignore"
command-line option.
.It Xo
.Sy repost?
.Xc
A boolean indicating whether to include reposts.
Defaults to
.Ql "false" .
.It Xo
.Sy quote-posts?
.Xc
A boolean indicating whether to include quote posts.
Defaults to
.Ql "false" .
.It Xo
.Sy last-fetch
.Xc
A Unix epoch timestamp automatically maintained by
.Nm
to track when posts were last fetched.
This key is added and updated automatically;
you should not need to set it manually.
.El
.
.Sh CREDENTIALS
.Nm
needs permission to access your Bluesky account and GitHub repository.
It does this using Bluesky app passwords and GitHub Personal
Access Tokens.
.Pp
To obtain a Bluesky app password:
.Pp
.Bl -enum -offset 3n -compact
.It
log in to Bluesky
.It
go to Settings > Privacy and Security > App Passwords
.It
create a new app password
.It
copy the generated password to your configuration file
.El
.Pp
To obtain a GitHub Personal Access Token:
.Pp
.Bl -enum -offset 3n -compact
.It
log in to GitHub
.It
go to Settings > Developer settings > Personal access tokens
> Fine-grained tokens
.It
click ‘Generate new token’
.It
select ‘Only select repositories’
.It
choose the repository
.It
click ‘Add permissions’
.It
select ‘Contents’ (make sure write permission is selected)
.El
.
.Sh EXIT STATUS
.Nm
exits
.Ql "0"
if exiting without error.
Otherwise the exit status will be
.Ql "1" .
.
.Sh FILES
.Bl -tag -width Ds -compact
.It Xo
.Eo
.Pa ./config.toml
.Ec
.Xc
Default configuration file location in the current working directory.
.El
.
.Sh EXAMPLES
Archive all new posts using the default configuration file:
.Bd -literal -offset indent
$ blues
.Ed
.Pp
Archive posts using a custom configuration file:
.Bd -literal -offset indent
$ blues --config ~/\&.blues/config\&.toml
.Ed
.Pp
Archive posts but filter out any containing
.Ql "#nofilter" :
.Bd -literal -offset indent
$ blues --ignore \(dq#nofilter\(dq
.Ed
.Pp
Archive only the 10 most recent posts:
.Bd -literal -offset indent
$ blues --limit 10
.Ed
.Pp
Archive posts silently without progress output:
.Bd -literal -offset indent
$ blues --quiet
.Ed
.Pp
Archive only posts since a specific date:
.Bd -literal -offset indent
$ blues --since 2024-01-01
.Ed
.Pp
Preview posts without uploading to GitHub:
.Bd -literal -offset indent
$ blues --echo --no-github
.Ed
.Pp
Update the last-fetch timestamp without uploading:
.Bd -literal -offset indent
$ blues --update --no-github
.Ed
.
.Sh AUTHORS
.An Michael Camilleri Aq Mt mike@inqk.net
.
.Sh BUGS
Report issues at
.Lk https://github.com/pyrmont/blueshift .
